# CARL configuration environment variables for development.
[network]
bind.host = "0.0.0.0"
bind.port = 8080
remote.host = "carl"
remote.port = 443

[network.tls]
certificate = "resources/development/tls/carl.pem"
key = "resources/development/tls/carl.key"
ca = "resources/development/tls/insecure-development-ca.pem"

[network.oidc]
enabled = true

[network.oidc.client]
id = "opendut-carl-client"
secret = "TODO: replace with localenv secret"
issuer.url = "http://localhost:8081/realms/opendut/"
issuer.admin.url = "http://localhost:8081/admin/realms/opendut/"
issuer.remote.url = "https://auth.opendut.local/realms/opendut/"
scopes = ""

[network.oidc.lea]
client.id = "opendut-lea-client"
issuer.url = "https://auth.opendut.local/realms/opendut/"
scopes = "openid,profile,email"

[persistence]
enabled = true

[persistence.database]
file = "~/.config/opendut/carl/carl.db"

[serve]
ui.directory = "./opendut-lea/dist/"

[vpn]
enabled = true
kind = "netbird"

[vpn.netbird]
url = "{netbird_management_url}"
ca = "{netbird_management_ca_path}"
auth.type = "personal-access-token"
auth.secret = "{netbird_api_key}"

[opentelemetry]
# disabled due to verify token issue in testenv: id token issued by a different provider, expected "https://auth.opendut.local/realms/opendut" got "http://localhost:8081/realms/opendut"
enabled = false
collector.endpoint = "{opentelemetry_collector_url}"
